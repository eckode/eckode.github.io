(()=>{"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return e(t,i);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}var i=function(t){var e=t.element,i=t.cssVar;return e instanceof HTMLElement?e.style.getPropertyValue(i).trim():""},n=function(t){var e=t.cssVar,n=t.element,r=void 0===n?document.body:n,a=i({element:r,cssVar:e});return""===a?0:parseInt(a)};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function o(t,e,i){return(e=l(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}window.ECKODE={debug:{resizeCount:0}};var h,c=function(){function e(){var r,a,s,l,h=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){throw new Error("".concat("container"," param is missing!"))}(),u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=u.elementResizer,p=u.elementHandle;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"snapPoints",[]),this.el={body:document.body,container:c,resizer:null!=d?d:c.getElementsByClassName("ec-resizable__resizer")[0],handle:null!=p?p:null===(r=c.getElementsByClassName("ec-resizable__resizer-handle"))||void 0===r?void 0:r[0],debug:null===(a=c.getElementsByClassName("ec-resizable__debug"))||void 0===a?void 0:a[0]},this.handleHeight=null!==(s=n({cssVar:"--ec-resizable-handle-height",element:this.el.container}))&&void 0!==s?s:this.el.handle.clientHeight;var g,f,y,m,v,b,z,H=i({cssVar:"--ec-resizable-snap",element:this.el.container}),S=null!==(l=n({cssVar:"--ec-resizable-snap-threshold",element:this.el.container}))&&void 0!==l?l:0,P=this.handleHeight/2;if(this.snapPoints=(g={total:this.el.container.clientHeight,percentage:25,startAt:this.handleHeight},m=void 0===(y=g.startAt)?0:y,z=(f=g.total)/100*(b=void 0===(v=g.percentage)?25:v),[].concat(t(t(Array(100/b)).map((function(t,e){return 0===e?m:parseFloat((e*z).toFixed(2))+m}))),[f])),0===this.el.container.getElementsByClassName("ec-resizable__debug-snap-point").length)for(var w=0,A=this.snapPoints.length;w<A;w++){var E=document.createElement("hr");E.classList.add("ec-resizable__debug-snap-point"),E.style.bottom="".concat(this.snapPoints[w],"px"),this.el.container.append(E)}this.data=new Proxy({direction:"bottom-top",currentHeight:0,expanding:!1,hasInteracted:!1,minHeight:this.handleHeight,maxHeight:this.el.container.clientHeight,offset:P,prevHeight:0,originalY:0,originalPointerY:0,dragDirection:null,currentPercentage:0,snap:H,snapThreshold:S,isOpen:!1},{get:function(t,e){return console.log("Property ".concat(String(e)," was read")),t[e]},set:function(t,e,i){return console.log("Property ".concat(String(e)," was set to ").concat(i)),t[e]=i,h.el.debug.innerHTML="<pre>".concat(JSON.stringify(h.data,null,2),"</pre>"),!0}}),this.resize=this.resize.bind(this),this.stopResize=this.stopResize.bind(this),this.initialiseResize=this.initialiseResize.bind(this),this.el.handle.addEventListener("pointerdown",this.initialiseResize)}var r,a;return r=e,a=[{key:"initialiseResize",value:function(t){var i;console.log("Resizable.initialiseResize()"),t.stopPropagation(),(i=this.data).hasInteracted||(i.hasInteracted=this.hasInteracted()),this.el.body.classList.contains(e.ACTIVE_BODY_CLASS)||this.el.body.classList.add(e.ACTIVE_BODY_CLASS),this.data.prevHeight=parseFloat(getComputedStyle(this.el.resizer,null).getPropertyValue("height").replace("px","")),this.data.currentHeight=this.data.prevHeight,this.data.originalY=this.el.resizer.getBoundingClientRect().top,this.data.originalPointerY=t.pageY,window.addEventListener("pointermove",this.resize)}},{key:"hasInteracted",value:function(){return console.log("Resizable.hasInteracted()"),window.addEventListener("pointerup",this.stopResize),this.el.body.addEventListener("pointerleave",this.stopResize),!0}},{key:"pointerUp",value:function(){this.stopResize()}},{key:"resize",value:function(t){var e=parseFloat((this.data.prevHeight-(t.pageY-this.data.originalPointerY)).toFixed(2));if(e!==this.data.currentHeight){this.data.expanding=this.data.currentHeight<e,this.data.currentHeight=e;for(var i=0;i<this.snapPoints.length;i++)if(e>=this.snapPoints[i]&&(i===this.snapPoints.length-1||e<this.snapPoints[i+1])){this.data.currentPercentage=i;break}e-this.data.minHeight<=this.data.snapThreshold?this.el.resizer.style.height="".concat(this.data.minHeight,"px"):this.data.maxHeight-e<=this.data.snapThreshold?this.el.resizer.style.height="".concat(this.data.maxHeight,"px"):e<this.data.maxHeight&&(this.el.resizer.style.height="".concat(e,"px"))}}},{key:"stopResize",value:function(){var t=this;if(+this.data.prevHeight.toFixed(2)!=+this.data.currentHeight.toFixed(2)&&(this.el.body.classList.contains(e.ACTIVE_BODY_CLASS)&&this.el.body.classList.remove(e.ACTIVE_BODY_CLASS),this.data.prevHeight=parseFloat(this.data.currentHeight.toFixed(2)),this.data.snap)){var i=this.data.currentHeight;if("closest"===this.data.snap)i=this.snapPoints.reduce((function(e,i){return Math.abs(i-t.data.currentHeight)<Math.abs(e-t.data.currentHeight)?i:e}));else if("next"===this.data.snap){var n=this.data.currentHeight>this.data.prevHeight;i=this.snapPoints[n?this.data.currentPercentage+1:this.data.currentPercentage]}this.el.resizer.style.height="".concat(i,"px"),this.data.currentHeight=i}window.removeEventListener("pointermove",this.resize)}}],a&&s(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),e}();o(c,"ACTIVE_BODY_CLASS","resize-in-progress"),new c((function(t){if(Array.isArray(t))return t}(h=document.getElementsByClassName("ec-resizable"))||function(t){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,n,r,a,s=[],o=!0,l=!1;try{for(r=(e=e.call(t)).next,!1;!(o=(i=r.call(e)).done)&&(s.push(i.value),1!==s.length);o=!0);}catch(t){l=!0,n=t}finally{try{if(!o&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw n}}return s}}(h)||function(t){if(t){if("string"==typeof t)return a(t,1);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,1):void 0}}(h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0])})();
//# sourceMappingURL=bundle.be0652cdbcab3ac048e1.min.js.map